@startuml
title UC009 - Control Flow Diagram (Notifications)
start

:1. Check user preferences;

:2. Retrieve preferences from user profile;
if (3. Are notifications enabled?) then (yes)
  :4. Retrieve user's location;
  :5. Fetch car park data based on location;
  :6. Check for low availability in car parks;
  if (7. Low availability detected?) then (yes)
    :8. Create notification;
    :9. Send push notification to user;
    :10. User receives notification;
    stop
  else (no)
    :11. No low availability detected;
    -7. Check again
    stop
  endif
else (no)
  :12. Display message: "Notifications not enabled";
  stop
endif

@enduml
